---
tags: unix
---
If you've ever wanted to write text to a root-owned file you may have been frustrated to see that:

<pre># overwriting
sudo echo foo > bar

# appending
sudo echo foo >> bar</pre>

doesn't work. It fails because only <tt>echo</tt> is executed with root privileges and by the time we get to the redirection we are back to running with the privileges of the user that owns the shell.

= The <tt>tee</tt> workaround =

<pre># overwriting
echo foo | sudo tee bar

# appending
echo foo | sudo tee -a bar</pre>

= The <tt>sh -c</tt> workaround =

<pre> # overwriting
sudo sh -c "echo foo > bar"

# appending
sudo sh -c "echo foo >> bar"</pre>
